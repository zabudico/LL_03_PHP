<?php
/**
 * Функции для работы с галереей изображений.
 */

/**
 * Возвращает массив путей к изображениям .jpg в указанной директории.
 *
 * @param string $dir Путь к директории с изображениями относительно корня проекта.
 * @return array Массив путей к изображениям или пустой массив, если директория не существует или нет изображений.
 */
function getImages($dir)
{
    // Проверяем, существует ли директория
    if (!is_dir($dir)) {
        return [];
    }

    // Сканируем содержимое директории
    $files = scandir($dir);
    if ($files === false) {
        return [];
    }

    $images = [];
    // Перебираем все файлы в директории
    foreach ($files as $file) {
        // Пропускаем текущий (.) и родительский (..) каталоги, проверяем расширение .jpg
        if ($file != "." && $file != ".." && strtolower(pathinfo($file, PATHINFO_EXTENSION)) == 'jpg') {
            $images[] = $dir . '/' . $file;
        }
    }

    return $images;
}